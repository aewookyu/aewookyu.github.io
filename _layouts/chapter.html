---
layout: default
---

<header class="chapter-header">
  <h1>{{ page.title }}</h1>
</header>

<!-- üîº TOP CHAPTER NAVIGATION -->
<div class="chapter-nav-top">

  {% if page.previous %}
    <a href="{{ page.previous.url | relative_url }}">‚Üê</a>
  {% endif %}

  {% if page.collection == "novel-one" %}
    <a href="{{ '/DILOANH/' | relative_url }}">TOC</a>
  {% elsif page.collection == "TDHIDIL" %}
    <a href="{{ '/TDHIDIL/' | relative_url }}">TOC</a>
  {% endif %}

  {% if page.next %}
    <a href="{{ page.next.url | relative_url }}">‚Üí</a>
  {% endif %}

</div>

<article class="chapter-content">
  {{ content }}
</article>

<!-- FONT SIZE BUTTONS -->
<div class="font-controls">
  <button id="decrease-font">A‚àí</button>
  <button id="increase-font">A+</button>
</div>

<hr>
<p style="text-align:center; margin-top:20px;">
  Enjoyed the chapter? ‚òï  
  <a href="https://ko-fi.com/aewookyu" target="_blank">
    Buy me a coffee
  </a>
</p>

<!-- ‚ù§Ô∏è HEART BUTTON SECTION -->
<div class="chapter-hearts" style="text-align:center; margin:20px 0;">
  <button id="heart-btn">‚ô°</button>
  <span id="heart-count">0</span>
</div>

<script>
const heartBtn = document.getElementById('heart-btn');
const heartCount = document.getElementById('heart-count');
  
const pageKey = '{{ page.url }}_likes';
const likedKey = '{{ page.url }}_liked';

// Get stored values
let count = localStorage.getItem(pageKey) || 0;
let liked = localStorage.getItem(likedKey);

// Display current count
heartCount.textContent = count;

// If already liked, show red heart
if (liked) {
  heartBtn.textContent = '‚ù§Ô∏è';
}

// Click event
heartBtn.addEventListener('click', () => {

  // If already liked, do nothing
  if (localStorage.getItem(likedKey)) return;

  count++;
  localStorage.setItem(pageKey, count);
  localStorage.setItem(likedKey, true);

  heartCount.textContent = count;
  heartBtn.textContent = '‚ù§Ô∏è';
});
</script>

<hr>

<div class="chapter-nav" style="text-align:center; margin-top:2em; font-size:1.1em;">

  {% if page.previous %}
    <a href="{{ page.previous.url | relative_url }}">‚Üê Previous</a> |
  {% endif %}

  {% if page.collection == "novel-one" %}
    <a href="{{ '/DILOANH/' | relative_url }}">Table of Contents</a>
  {% elsif page.collection == "TDHIDIL" %}
    <a href="{{ '/TDHIDIL/' | relative_url }}">Table of Contents</a>
  {% endif %}

  {% if page.next %}
  | <a href="{{ page.next.url | relative_url }}">Next ‚Üí</a>
  {% endif %}

</div>

<!-- LOAD FONT SIZE JS ONLY ON CHAPTER PAGES -->
<script src="{{ '/assets/js/font-size.js' | relative_url }}"></script>

<button id="scroll-toggle" class="scroll-btn">‚Üì</button>

<script src="{{ '/assets/js/scroll-toggle.js' | relative_url }}"></script>
