---
layout: default
---

<header class="chapter-header">
  <h1>{{ page.title }}</h1>
</header>

<article class="chapter-content">
  {{ content }}
</article>

<!-- FONT SIZE BUTTONS -->
<div class="font-controls">
  <button id="decrease-font">A−</button>
  <button id="increase-font">A+</button>
</div>

<hr>
<p style="text-align:center; margin-top:20px;">
  Enjoyed the chapter? ☕  
  <a href="https://ko-fi.com/aewookyu" target="_blank">
    Support me on Ko-fi
  </a>
</p>

<!-- ❤️ HEART BUTTON SECTION -->
<div class="chapter-hearts" style="text-align:center; margin:20px 0;">
  <button id="heart-btn">♡</button>
  <span id="heart-count">0</span>
</div>

<script>
const heartBtn = document.getElementById('heart-btn');
const heartCount = document.getElementById('heart-count');
  
const pageKey = '{{ page.url }}_likes';
const likedKey = '{{ page.url }}_liked';

// Get stored values
let count = localStorage.getItem(pageKey) || 0;
let liked = localStorage.getItem(likedKey);

// Display current count
heartCount.textContent = count;

// If already liked, show red heart
if (liked) {
  heartBtn.textContent = '❤️';
}

// Click event
heartBtn.addEventListener('click', () => {

  // If already liked, do nothing
  if (localStorage.getItem(likedKey)) return;

  count++;
  localStorage.setItem(pageKey, count);
  localStorage.setItem(likedKey, true);

  heartCount.textContent = count;
  heartBtn.textContent = '❤️';
});
</script>

<hr>

<div class="chapter-nav" style="text-align:center; margin-top:2em; font-size:1.1em;">

  {% if page.previous %}
    <a href="{{ page.previous.url | relative_url }}">← Previous</a> |
  {% endif %}

  {% if page.collection == "novel-one" %}
    <a href="{{ '/DILOANH/' | relative_url }}">Table of Contents</a>
  {% elsif page.collection == "TDHIDIL" %}
    <a href="{{ '/TDHIDIL/' | relative_url }}">Table of Contents</a>
  {% endif %}

  {% if page.next %}
  | <a href="{{ page.next.url | relative_url }}">Next →</a>
  {% endif %}

</div>

<!-- LOAD FONT SIZE JS ONLY ON CHAPTER PAGES -->
<script src="{{ '/assets/js/font-size.js' | relative_url }}"></script>

<button id="scroll-toggle" class="scroll-btn">↓</button>

<script src="{{ '/assets/js/scroll-toggle.js' | relative_url }}"></script>
